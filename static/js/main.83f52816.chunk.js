(this["webpackJsonptoy-daw"]=this["webpackJsonptoy-daw"]||[]).push([[0],{101:function(e,t,c){},107:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c.n(n),o=c(65),r=c.n(o),s=(c(79),c(121)),i=(c(80),c(5)),u=c(117),l=c(120),b=c(122),j=c(22),d=(c(90),c(55)),O=c.n(d),f=(c(101),c(13)),m=120,p=60,h=240,v=1,x=4,g=16,w=0,S=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],o=Object(n.useState)(),r=Object(i.a)(o,2),s=r[0],d=r[1],S=Object(n.useState)(),y=Object(i.a)(S,2),A=y[0],E=y[1],k=Object(n.useState)(),D=Object(i.a)(k,2),R=D[0],B=D[1],C=Object(n.useRef)(),z=Object(n.useState)(!1),M=Object(i.a)(z,2),q=M[0],N=M[1],P=Object(n.useState)(m),F=Object(i.a)(P,2),J=F[0],I=F[1],T=Object(n.useState)(x),U=Object(i.a)(T,2),V=U[0],Y=(U[1],Object(n.useState)(g)),Z=Object(i.a)(Y,2),G=Z[0],H=(Z[1],Object(n.useState)(w)),K=Object(i.a)(H,2),L=K[0],Q=(K[1],Object(n.useState)(0)),W=Object(i.a)(Q,2),X=W[0],$=W[1],_=Object(n.useState)(),ee=Object(i.a)(_,2),te=ee[0],ce=ee[1],ne=Object(n.useRef)(),ae=Object(n.useRef)();Object(n.useEffect)((function(){var e=new j.c(X).toDestination();ce(e);var t=new j.a({urls:{0:"kick.mp3",1:"hihat.mp3",2:"snare.mp3",3:"tom1.mp3"},baseUrl:"https://tonejs.github.io/audio/drum-samples/acoustic-kit/"}).connect(e);return d(t),function(){d(void 0)}}),[]),Object(n.useEffect)((function(){te&&(te.volume.value=X)}),[X,te]),Object(n.useEffect)((function(){var e,t=null===ne||void 0===ne||null===(e=ne.current)||void 0===e?void 0:e.id,c=new O.a.Sequencer(t,{size:[500,160],mode:"toggle",rows:V,columns:G,paddingRow:5,paddingColumn:5});c.colorize("fill","#51575B"),c.colorize("accent","#AABAC4");for(var n=ne.current.getElementsByTagName("rect"),a=0;a<n.length;a++){var o=n[a];Math.floor(a/4);o.setAttribute("rx",4)}return c.matrix.set.all([[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),E(c),function(){c.destroy(),E(void 0)}}),[ne]),Object(n.useEffect)((function(){var e=ae.current.id;return new O.a.Dial(e,{size:[75,75],interaction:"radial",mode:"relative",min:-60,max:5.6,value:0}).on("change",(function(e){$(e)})),function(){B(void 0),R.destroy()}}),[ae]);var oe=function(e){j.b.bpm.value=J,j.b.scheduleRepeat((function(t){e.next(),C.current.play(j.d().rawContext,(function(e){console.log(e)})),e.matrix.pattern.forEach((function(e,c){var n=s.player(c);e[L]&&n.start(t,0,"1n")})),L=(L+1)%G}),"16n")};return Object(f.jsxs)("div",{className:"step-sequencer-container",children:[Object(f.jsx)("webaudio-pianoroll",{ref:C,editMode:"dragpoly",style:{overflowY:"scroll"},xRange:256,yRange:20,width:"1000",xScroll:1,yScroll:1,wheelZoom:1,markStart:0,markEnd:256,collt:"#34444E",coldk:"#2E3E48",colgrid:"#24343E",colnote:"#A4D4AD",colnotesel:"#AFD4BA",colnoteborder:"#A4D4AD",colrulerbg:"#1F2A32",colrulerfg:"#b0b0b0",kbwidth:"80"}),Object(f.jsxs)(u.a,{flexDir:"column",mt:5,children:[Object(f.jsxs)("h3",{children:[J," BPM"]}),Object(f.jsxs)(l.a,{w:"500px",defaultValue:m,min:p,max:h,step:v,onChange:function(e){j.b.bpm.value=e,I(e)},children:[Object(f.jsx)(l.d,{children:Object(f.jsx)(l.b,{})}),Object(f.jsx)(l.c,{})]}),Object(f.jsx)(b.a,{colorScheme:"blue",onClick:function(e){q||(j.e(),N(!0),oe(A)),c?(j.b.stop(),C.current.stop()):j.b.start(),a(!c)},pl:100,pr:100,children:c?"Pause":"Play"}),Object(f.jsx)(u.a,{id:"volumne",mt:5,ref:ae}),Object(f.jsx)(u.a,{id:"sequencer",mt:5,ref:ne})]})]})};var y=function(){return Object(f.jsx)(s.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(S,{})})})};r.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root"))},79:function(e,t,c){},80:function(e,t,c){}},[[107,1,2]]]);
//# sourceMappingURL=main.83f52816.chunk.js.map