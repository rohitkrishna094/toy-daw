(this["webpackJsonptoy-daw"]=this["webpackJsonptoy-daw"]||[]).push([[0],{103:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(20),i=c.n(r),o=(c(88),c(23)),s=(c(89),c(5)),u=c(42),j=c(47),b=c(48),l=c(15),d=c(22),O=c.n(d),f=(c(90),c(2)),m=c(6),v=function(e){var t=e.min,c=void 0===t?-60:t,a=e.max,r=void 0===a?5.6:a,i=e.value,o=void 0===i?0:i,s=e.mode,j=void 0===s?"relative":s,b=e.interaction,l=void 0===b?"radial":b,d=e.size,v=void 0===d?[75,75]:d,p=e.onChange,x=e.uiProps,h=Object(n.useRef)();return Object(n.useEffect)((function(){var e=h.current.id,t=new O.a.Dial(e,{size:v,interaction:l,mode:j,min:c,max:r,value:o});return t.on("change",p),function(){t.destroy()}}),[h]),Object(m.jsx)(u.a,Object(f.a)({ref:h},x))},p=function(e){var t=e.uiProps,c=e.destination,a=Object(n.useRef)();return Object(n.useEffect)((function(){var e=a.current,t=new O.a.Oscilloscope(e);return t.connect(c),function(){t.destroy()}}),[a]),Object(m.jsx)(u.a,Object(f.a)({ref:a},t))},x=c(50),h=c.n(x),g=120,S=60,w=240,y=1,E=4,P=16,R=0,k=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(),i=Object(s.a)(r,2),o=i[0],d=i[1],f=Object(n.useState)(),x=Object(s.a)(f,2),k=x[0],C=x[1],z=Object(n.useState)(!1),A=Object(s.a)(z,2),B=A[0],q=A[1],D=Object(n.useState)(g),M=Object(s.a)(D,2),N=M[0],J=M[1],I=Object(n.useState)(E),T=Object(s.a)(I,2),U=T[0],V=(T[1],Object(n.useState)(P)),F=Object(s.a)(V,2),G=F[0],H=(F[1],Object(n.useState)(R)),K=Object(s.a)(H,2),L=K[0],Q=(K[1],Object(n.useState)(-20)),W=Object(s.a)(Q,2),X=W[0],Y=W[1],Z=Object(n.useState)(),$=Object(s.a)(Z,2),_=$[0],ee=$[1],te=Object(n.useRef)(),ce=Object(n.useRef)();Object(n.useEffect)((function(){var e=new l.d(X).toDestination();ee(e);var t=new l.b({urls:{0:"kick.mp3",1:"hihat.mp3",2:"snare.mp3",3:"tom1.mp3"},baseUrl:"https://tonejs.github.io/audio/drum-samples/acoustic-kit/"}).connect(e);return d(t),function(){d(void 0)}}),[]),Object(n.useEffect)((function(){_&&(_.volume.value=X)}),[X,_]),Object(n.useEffect)((function(){var e,t=null===te||void 0===te||null===(e=te.current)||void 0===e?void 0:e.id,c=new O.a.Sequencer(t,{size:[500,160],mode:"toggle",rows:U,columns:G,paddingRow:5,paddingColumn:5});c.colorize("fill","#51575B"),c.colorize("accent","#AABAC4");for(var n=te.current.getElementsByTagName("rect"),a=0;a<n.length;a++){var r=n[a];Math.floor(a/4);r.setAttribute("rx",4)}return c.matrix.set.all([[1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0],[1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0],[0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),C(c),function(){c.destroy(),C(void 0)}}),[te]);var ne=function(e){l.c.bpm.value=N,l.c.scheduleRepeat((function(t){e.next(),e.matrix.pattern.forEach((function(e,c){var n=o.player(c);e[L]&&n.start(t,0,"1n")})),L=(L+1)%G}),"16n")};return Object(m.jsx)(h.a,{bounds:"parent",nodeRef:ce,children:Object(m.jsx)(u.a,{className:"step-sequencer-container",ref:ce,children:Object(m.jsxs)(u.a,{flexDir:"column",mt:5,children:[Object(m.jsxs)("h3",{children:[N," BPM"]}),Object(m.jsxs)(j.a,{w:"500px",defaultValue:g,min:S,max:w,step:y,onChange:function(e){l.c.bpm.value=e,J(e)},children:[Object(m.jsx)(j.d,{children:Object(m.jsx)(j.b,{})}),Object(m.jsx)(j.c,{})]}),Object(m.jsx)(p,{uiProps:{id:"oscilloscope"},destination:l.a}),Object(m.jsx)(b.a,{colorScheme:"blue",onClick:function(e){B||(l.e(),q(!0),ne(k)),c?l.c.stop():l.c.start(),a(!c)},pl:100,pr:100,children:c?"Pause":"Play"}),Object(m.jsx)(v,{value:X,onChange:function(e){return Y(e)},uiProps:{id:"volume",mt:5}}),Object(m.jsx)(u.a,{id:"sequencer",mt:5,ref:te})]})})})};var C=function(){return Object(m.jsx)(o.a,{children:Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(k,{})})})};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))},88:function(e,t,c){},89:function(e,t,c){},90:function(e,t,c){}},[[103,1,2]]]);
//# sourceMappingURL=main.9cb0803b.chunk.js.map